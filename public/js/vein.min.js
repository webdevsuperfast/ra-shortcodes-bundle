!function(e,t){"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("vein",t):this.vein=t()}(0,function(){var e=function(){},t=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},n=function(e,t,n){var r,s,l=[],o=t[document.all?"rules":"cssRules"],u=e.replace(/\s/g,"");for(r=0,s=o.length;r<s;r++)(o[r].selectorText===e||4===o[r].type&&o[r].cssText.replace(/\s/g,"").substring(0,u.length)==u)&&(null===n?t.deleteRule(r):l.push(o[r]));return l},r=function(e){cssArray=[];for(property in e)e.hasOwnProperty(property)&&cssArray.push(property+": "+e[property]+";");return cssText=cssArray.join(""),cssText};e.getStylesheet=function(){var e,t=this;if(!t.element)for(t.element=document.createElement("style"),t.element.setAttribute("type","text/css"),t.element.setAttribute("id","vein"),document.getElementsByTagName("head")[0].appendChild(t.element),e=document.styleSheets.length-1;e>=0;e--)if(document.styleSheets[e].ownerNode===t.element){t.stylesheet=document.styleSheets[e];break}return t.stylesheet};var s=function(e){return e[document.all?"rules":"cssRules"]},l=function(e,t,n){var r=s(n);n.insertRule?n.insertRule(e+"{"+t+"}",r.length):n.addRule(e,t,r.length)};return e.inject=function(e,o,u){var i,f,c,h,y,a,p,d,g,m,v=this,R=(u=t({},u)).stylesheet||v.getStylesheet();s(R);for("string"==typeof e&&(e=[e]),i=0,f=e.length;i<f;i++)if("object"==typeof e[i]&&R.insertRule)for(c in e[i])if(0===(h=n(c,R,o)).length)for(y=r(o),g=0,m=e[i][c].length;g<m;g++)l(c,e[i][c][g]+"{"+y+"}",R);else for(p=0,d=h.length;p<d;p++)v.inject(e[i][c],o,{stylesheet:h[p]});else{if(h=n(e[i],R,o),null===o)return;if(0===h.length)y=r(o),l(e[i],y,R);else for(p=0,d=h.length;p<d;p++)for(a in o)o.hasOwnProperty(a)&&h[p].style.setProperty(a,o[a],"")}return v},e});